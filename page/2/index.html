<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>goMars的学习随记</title><meta name="keywords" content="java 后端"><meta name="author" content="goMars,wht661024@163.com"><meta name="copyright" content="goMars"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Your only limit is your soul一个正在路上的开发者">
<meta property="og:type" content="website">
<meta property="og:title" content="goMars的学习随记">
<meta property="og:url" content="https://iooooot.github.io/page/2/index.html">
<meta property="og:site_name" content="goMars的学习随记">
<meta property="og:description" content="Your only limit is your soul一个正在路上的开发者">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blogphoto2.jpg">
<meta property="article:author" content="goMars">
<meta property="article:tag" content="java 后端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blogphoto2.jpg"><link rel="shortcut icon" href="/img/favicon2.png"><link rel="canonical" href="https://iooooot.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"0EM01UMIDP","apiKey":"8f6a2bd8d9b6c8e2b5bdc233c586d096","indexName":"blog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-06 12:37:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        })(window)</script><link rel="stylesheet" href="/css/shadow.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/hideCategory.min.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blogphoto2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">232</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">115</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">54</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/wall5.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">goMars的学习随记</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">goMars的学习随记</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/Iooooot" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/wht661024@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2024/01/18/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/" title="消息队列延迟问题">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog47.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="消息队列延迟问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/18/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/" title="消息队列延迟问题">消息队列延迟问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-18T01:54:10.000Z" title="发表于 2024-01-18 09:54:10">2024-01-18</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-18T01:55:35.378Z" title="更新于 2024-01-18 09:55:35">2024-01-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2024/01/18/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2024/01/18/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">消息延迟问题消息延迟监控监控消息的延迟有两种方式：

使用消息队列提供的工具，通过监控消息的堆积来完成；

利用消息队列实现提供的监控工具，例如Kafka中提供的“kafka-consumer-groups.sh
第三方监控工具：JMX


通过生成监控消息的方式来监控消息的延迟情况。

编写并启动一个监控程序，将监控消息定时地循环写入到消息队列中，消息的内容可以是生成消息的时间戳并且也会作为队列的消费者消费数据。
业务处理程序消费到这个消息时直接丢弃掉，而监控程序在消费到这个消息时就可以和这个消息的生成时间做比较，如果时间差达到某一个阈值就可以向我们报警。





减少消息延迟想要减少消息的处理延迟，我们需要在消费端和消息队列两个层面来完成。

消费端
在消费端的目标是提升消费者的消息处理能力：

优化消费代码提升性能：
注意消费线程空转，如果经常发生空转，可以设置固定或者步长递增的等待时间例如10ms~100ms。

增加消费者的数量。

如果想kafka一样一个 Topic（话题）可以配置多个 Partition（分区），一个分区只能由一个消费者消费，则可以让消费者收到了消息之 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2024/01/14/CDN%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/" title="CDN静态资源加速">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CDN静态资源加速"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/14/CDN%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/" title="CDN静态资源加速">CDN静态资源加速</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-14T02:11:34.000Z" title="发表于 2024-01-14 10:11:34">2024-01-14</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-14T02:12:36.494Z" title="更新于 2024-01-14 10:12:36">2024-01-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BC%93%E5%AD%98/">缓存</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2024/01/14/CDN%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2024/01/14/CDN%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E9%80%9F/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">CDN静态资源加速概述一般在我们的系统中存在着大量的静态资源请求：

对于移动 APP 来说，这些静态资源主要是图片、视频和流媒体信息；
对于 Web 网站来说，则包括了 JavaScript 文件、CSS 文件、静态 HTML 文件等等

一般这些静态资源是部署在Nginx 等 Web 服务器上，由于请求量大常常占据了很高的带宽，这时会出现访问速度慢带宽被占满影响动态请求的问题；所以对于静态资源也需要考虑对其进行访问加速的问题。
所以我们考虑在业务服务器的上层增加一层特殊的缓存，用来承担绝大部分对于静态资源的访问，这一层特殊缓存的节点需要遍布在全国各地，这样可以让用户选择最近的节点访问。这就是CDN。
CDN关键技术CDN的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输得更快、更稳定。
CDN的关键技术在于两点：

如何将用户的请求映射到 CDN 节点上；
如何根据用户的地理位置信息选择到比较近的节点。


如何让用户的请求到达 CDN 节点
这就需要依靠 DNS 来帮我们解 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2024/01/11/%E7%BC%93%E5%AD%98%E7%9A%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5/" title="缓存的读写策略">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog12.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="缓存的读写策略"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/11/%E7%BC%93%E5%AD%98%E7%9A%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5/" title="缓存的读写策略">缓存的读写策略</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-11T04:33:01.000Z" title="发表于 2024-01-11 12:33:01">2024-01-11</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-11T04:34:49.686Z" title="更新于 2024-01-11 12:34:49">2024-01-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BC%93%E5%AD%98/">缓存</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2024/01/11/%E7%BC%93%E5%AD%98%E7%9A%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2024/01/11/%E7%BC%93%E5%AD%98%E7%9A%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">缓存的读写策略Cache Aside（旁路缓存）策略这个策略数据以数据库中的数据为准，缓存中的数据是按需加载的。它可以分为读策略和写策。
读策略步骤：

从缓存中读取数据；
如果缓存命中，则直接返回数据；
如果缓存不命中，则从数据库中查询数据；
查询到数据后，将数据写入到缓存中，并且返回给用户。

写策略步骤：

更新数据库中的记录；
删除缓存记录（必须在更新数据库后面）。


这样的读写策略能解决大部分并发更新时缓存数据不一致的问题也正说明他不适用于写入频繁的场景，但是还是会出现一种问题
例如：用户数据在缓存中不存在，请求 A 读取数据时从数据库中查询到年龄为 20，在未写入缓存中时另一个请求 B 更新数据。它更新数据库中的年龄为 21，并且清空缓存。这时请求 A 把从数据库中读到的年龄为 20 的数据写入到缓存中，造成缓存和数据库数据不一致。
如果你的业务对缓存命中率有严格的要求，那么可以考虑两种解决方案：

一种做法是在更新数据时也更新缓存，只是在更新缓存前先加一个分布式锁解决并发问题。
另一种做法同样也是在更新数据时更新缓存，只是给缓存加一个较短的过期时间。


Read/Wr ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2024/01/06/%E7%BC%93%E5%AD%98%E6%A6%82%E8%BF%B0/" title="缓存概述">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog02.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="缓存概述"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/06/%E7%BC%93%E5%AD%98%E6%A6%82%E8%BF%B0/" title="缓存概述">缓存概述</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-06T02:52:53.000Z" title="发表于 2024-01-06 10:52:53">2024-01-06</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-06T02:56:09.404Z" title="更新于 2024-01-06 10:56:09">2024-01-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BC%93%E5%AD%98/">缓存</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2024/01/06/%E7%BC%93%E5%AD%98%E6%A6%82%E8%BF%B0/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2024/01/06/%E7%BC%93%E5%AD%98%E6%A6%82%E8%BF%B0/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">缓存概述什么是缓存缓存，是一种存储数据的组件，它的作用是让对数据的请求更快地返回。
实际上，凡是位于速度相差较大的两种硬件之间，用于协调两者数据传输速度差异的结构，均可称之为缓存。
例如：

操作系统的快速转换表：TLB（Translation Lookaside Buffer）
HTTP的协商缓存

缓存分类静态缓存：这种缓存只能针对静态数据来缓存，一般通过生成静态 HTML 文件来实现静态缓存并在 Nginx 上部署静态缓存可以减少对于后台应用服务器的压力。
分布式缓存：例如Redis、Memcached等就是典型的分布式缓存。性能强劲，并且可以通过分布式方案突破单机限制。
热点本地缓存：热点本地缓存主要部署在应用服务器的代码中（如 HashMap，Guava Cache 或者是 Ehcache 等），因为它们和应用程序部署在同一个进程中，优势是不需要跨网络调度，速度极快，所以用于阻挡热点查询对于分布式缓存节点或者数据库的压力。（但是由于会有多台应用服务器，数据更新无法更新删除缓存，所以有效期很短秒级或者分钟级）
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2023/12/27/%E5%88%A9%E7%94%A8NoSQL%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/" title="利用NoSQL优化数据库">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/firmbee-com-DfMMzzi3rmg-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用NoSQL优化数据库"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/27/%E5%88%A9%E7%94%A8NoSQL%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/" title="利用NoSQL优化数据库">利用NoSQL优化数据库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-27T02:44:32.000Z" title="发表于 2023-12-27 10:44:32">2023-12-27</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-06T02:55:10.768Z" title="更新于 2024-01-06 10:55:10">2024-01-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/NoSQL/">NoSQL</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/27/%E5%88%A9%E7%94%A8NoSQL%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/27/%E5%88%A9%E7%94%A8NoSQL%E4%BC%98%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">利用NoSQL数据库当系统中某业务的数据已经无法用分库分表来解决的时候，就应该考虑是否需要利用NoSQL数据库来补充传统关系型数据库了。因为它有着天生分布式的能力，能够提供优秀的读写性能，可以很好地补充传统关系型数据库的短板。但是只是互补关系不能完全替代。
提高写入性能数据库系统大多使用的是传统的机械磁盘，对于机械磁盘的访问方式有两种：一种是随机 IO；另一种是顺序 IO。
以 MySQL 的 InnoDB 存储引擎来说，更新 binlog、redolog、undolog 都是在做顺序 IO，而更新 datafile 和索引文件则是在做随机 IO，而为了减少随机 IO 的发生，关系数据库已经做了很多的优化，比如说写入时先写入内存，然后批量刷新到磁盘上，但是随机 IO 还是会发生。
而NoSQL大多是直接写入内存，为了持久化会做顺序IO以日志形式写入磁盘。它们的核心思想就是将随机 IO 变成顺序的 IO，从而提升写入的性能。
场景补充例如商品的搜索场景，如果直接使用传统数据库的模糊查询，性能是根据无法接受的。这个时候就可以使用NoSQL来进行场景补充例如：开源组件 Elasticsear ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2023/12/22/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" title="MySQL分库分表">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog02.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL分库分表"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/22/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" title="MySQL分库分表">MySQL分库分表</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-22T01:41:20.000Z" title="发表于 2023-12-22 09:41:20">2023-12-22</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-22T01:43:11.177Z" title="更新于 2023-12-22 09:43:11">2023-12-22</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/">MySQL分库分表</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/22/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/22/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">分库分表系统正在持续不断地发展，注册的用户越来越多，数据库中存储的数据也越来越多。
会遇到的问题：

这时即使你使用了索引，索引占用的空间也随着数据量的增长而增大，数据库就无法缓存全量的索引信息，那么就需要从磁盘上读取索引数据，就会影响到查询的性能了。
数据量的增加也占据了磁盘的空间，数据库在备份和恢复的时间变长。
不同模块的数据，比如用户数据和用户关系数据，全都存储在一个主库中，一旦主库发生故障，所有的模块都会受到影响。

这些问题都是数据库的写入请求量大造成的性能和可用性方面的问题，一般采取的措施就是对数据进行分片即分库分表。

为什么要分库分表：

如果数据库已经到了写瓶颈怎么办？要么优化写操作，要么分库。
对于写瓶颈来说，分区表可以缓解问题，而读写分离几乎没有效果，比如频繁地增删改操作。


如果数据库已经到了读瓶颈怎么办？要么优化读操作，要么加从库，要么分库或分表。
对于硬件瓶颈来说，读写分离、分区表基本上也解决不了，比如写操作引发的网络带宽问题。

一般非必要不进行分库分表，大致要求如下：

单表数据超过1000w
单表数据文件大小超过20GB

方案分为：

单库多表：有 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2023/12/19/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" title="MySQL读写分离">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog08.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL读写分离"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/19/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" title="MySQL读写分离">MySQL读写分离</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-19T02:18:18.000Z" title="发表于 2023-12-19 10:18:18">2023-12-19</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-19T02:20:36.918Z" title="更新于 2023-12-19 10:20:36">2023-12-19</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/">MySQL读写分离</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/19/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/19/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">主从读写分离大部分系统的访问模型是读多写少，读写请求量的差距可能达到几个数量级。
因此，我们优先考虑数据库如何抵抗更高的查询请求，那么首先你需要把读写流量区分开，因为这样才方便针对读流量做单独的扩展（但是不易太对IO线程消耗太大，一般一个主库最多挂 3～5 个从库），这就是我们所说的主从读写分离。从库也可以当成一个备库来使用，以避免主库故障导致数据丢失。
主从读写分离有两个技术关键点：

一个是数据的拷贝，我们称为主从复制；

在主从分离的情况下，我们如何屏蔽主从分离带来的访问数据库方式的变化，让开发像是在使用单一数据库一样。


主从复制以MySQL的主从复制为例，MySQL 的主从复制是依赖于 binlog 的，主从复制就是将 binlog 中的数据从主库传输到从库上，一般这个过程是异步的，即主库上的操作不会等待 binlog 同步的完成。
同步完整流程：


一个事务日志同步的完整过程是这样的：

在备库B上通过change master命令，设置主库A的IP、端口、用户名、密码，以及要从哪个位置开始请求binlog，这个位置包含文件名和日志偏移量。
在备库B上执行start s ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2023/12/14/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/%E6%B1%A0%E5%8C%96%E6%8A%80%E6%9C%AF/" title="池化技术">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/christopher-gower-vjMgqUkS8q8-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="池化技术"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/14/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/%E6%B1%A0%E5%8C%96%E6%8A%80%E6%9C%AF/" title="池化技术">池化技术</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-14T01:53:47.000Z" title="发表于 2023-12-14 09:53:47">2023-12-14</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-14T01:55:57.577Z" title="更新于 2023-12-14 09:55:57">2023-12-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/">数据库优化</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/">分布式系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%B1%A0%E5%8C%96%E6%8A%80%E6%9C%AF/">池化技术</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/14/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/%E6%B1%A0%E5%8C%96%E6%8A%80%E6%9C%AF/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/14/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/%E6%B1%A0%E5%8C%96%E6%8A%80%E6%9C%AF/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">池化技术数据库连接池数据库的调用方式是先获取数据库的连接，然后依靠这条连接从数据库中查询数据，最后关闭连接释放数据库资源。这种调用方式下，每次执行 SQL 都需要重新建立连接，频繁地建立数据库连接是很耗费时间的。
这个时候就需要用到池化技术：建立数据库连接池。
数据库连接池有两个最重要的配置：最小连接数和最大连接数

最小连接数：是连接池一直保持的数据库连接
最大连接数：是连接池能申请的最大连接数

从连接池中获取连接的相关策略：
如果当前连接数小于最小连接数，则创建新的连接处理数据库请求，保证池中的最小连接数；
如果当前连接数大于最小连接数小于最大连接数
如果连接池中有空闲连接则复用空闲连接；
没有则创建新的连接处理请求；


如果当前连接数已经大于等于最大连接数，则按照配置中设定的时间（C3P0 的连接池配置是 checkoutTimeout）等待旧的连接可用
如果等待超过了这个设定时间则向用户抛出错误。



会遇到的问题：连接断开问题：

数据库的域名对应的 IP 发生了变更，池子的连接还是使用旧的 IP。
MySQL 有个参数是“wait_timeout”，控制着当数据库连接 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2023/12/09/MockMvc/" title="MockMvc">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog52.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MockMvc"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/09/MockMvc/" title="MockMvc">MockMvc</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-09T01:16:02.000Z" title="发表于 2023-12-09 09:16:02">2023-12-09</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-09T01:17:39.378Z" title="更新于 2023-12-09 09:17:39">2023-12-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/">Spring全家桶</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring%E5%85%A8%E5%AE%B6%E6%A1%B6/SpringBoot/">SpringBoot</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/SpringBoot/">SpringBoot</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/MockMvc/">MockMvc</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/09/MockMvc/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/09/MockMvc/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">MockMvcMockMvc是由spring-test包提供，实现了对Http请求的模拟，能够直接使用网络的形式，转换到Controller的调用，使得测试速度快、不依赖网络环境。同时提供了一套验证的工具，结果的验证十分方便。
开发步骤：

接口：
1234567@GetMapping (&quot;/logger&quot;)@ResponseBodypublic string testLogger () &#123;    Logger logger = LoggerFactory.getLogger(this.getClass())    logger.debug (&quot;测试级别日志&quot;);    return &quot;SUCCESS&quot;; &#125;
在test包下创建一个测试类：
1234567891011121314151617181920212223242526272829303132333435363738@SpringBootTest(classes = &#123;SpringbootApplication.class &#125;,w ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2023/12/05/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/" title="开源协议">     <img class="post_bg" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog01.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开源协议"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/05/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/" title="开源协议">开源协议</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-05T01:11:13.000Z" title="发表于 2023-12-05 09:11:13">2023-12-05</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-12-05T01:13:12.142Z" title="更新于 2023-12-05 09:13:12">2023-12-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">系统设计</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/">开源协议</a></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-comments"></i><a href="/2023/12/05/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/12/05/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/" itemprop="commentCount"></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">开源协议概述开源协议是规定软件源代码如何被使用、修改和分发的法律文本。这些协议为开发者提供了在保持源代码开放的同时，规定了一些使用条件和责任。以下是一些常见的开源协议：


主流协议
GNU通用公共许可证（GNU General Public License，GPL）：
特点：软件的使用是免费的，强调用户有权查看、修改和重新分发源代码。如果您修改了代码并重新分发，您的修改必须也是开源的。
版本：GPL有不同的版本，包括GPLv2和GPLv3。
场景：适用于二次或N次开发，那么发布时要带上源码，让其传播，所以它最终的版权是大众的，而非某一个人的，因此不用交钱就可以使用。


MIT许可证：
特点：目前限制最少的开源许可协议之一(比BSD和Apache的限制都少)，只要程序的开发者在修改后的源代码中保留原作者的许可信息即可，简单且自由度较高。允许在源代码中包含此许可证，允许任何人免费使用、修改和分发您的代码，只需保留原始许可证和版权声明。
场景：普遍被商业软件所使用。


Apache许可证：
特点：Apache协议具体为许可证版本（Apache License Version)协议，Ap ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blogphoto2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">goMars</div><div class="author-info__description">Your only limit is your soul<br>一个正在路上的开发者</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">232</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">115</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">54</div></a></div></div><a class="button--animated" id="card-info-btn" href="javaScript:alert(&quot;喜欢的话,点击Ctrl+D收藏哟~&quot;);"><i class="fab fa-leanpub"></i><span>加入书签</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Iooooot" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/wht661024@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的个人博客哟~随便看看，说不定有你感兴趣的呐..</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/05/HTTP%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5/" title="HTTP优化策略"><img data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog01.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP优化策略"/></a><div class="content"><a class="title" href="/2024/03/05/HTTP%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5/" title="HTTP优化策略">HTTP优化策略</a><time datetime="2024-03-05T02:52:44.000Z" title="发表于 2024-03-05 10:52:44">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/01/HTTP%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/" title="HTTP接口安全策略"><img data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/ben-kolde-FaPxZ88yZrw-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP接口安全策略"/></a><div class="content"><a class="title" href="/2024/03/01/HTTP%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/" title="HTTP接口安全策略">HTTP接口安全策略</a><time datetime="2024-03-01T02:17:30.000Z" title="发表于 2024-03-01 10:17:30">2024-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/26/Spring%E4%BA%8B%E5%8A%A1/" title="Spring事务"><img data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/georgie-cobbs-bKjHgo_Lbpo-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring事务"/></a><div class="content"><a class="title" href="/2024/02/26/Spring%E4%BA%8B%E5%8A%A1/" title="Spring事务">Spring事务</a><time datetime="2024-02-26T04:38:29.000Z" title="发表于 2024-02-26 12:38:29">2024-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/epoll%E3%80%81poll-%E5%92%8C-select/" title="epoll、poll 和 select"><img data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/blog41.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="epoll、poll 和 select"/></a><div class="content"><a class="title" href="/2024/02/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/epoll%E3%80%81poll-%E5%92%8C-select/" title="epoll、poll 和 select">epoll、poll 和 select</a><time datetime="2024-02-22T05:52:19.000Z" title="发表于 2024-02-22 13:52:19">2024-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/18/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E7%9A%84%E6%89%8B%E6%AE%B5-%E4%BA%8C/" title="微服务治理的手段(二)"><img data-lazy-src="https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/georgie-cobbs-muOHbrFGEQY-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="微服务治理的手段(二)"/></a><div class="content"><a class="title" href="/2024/02/18/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E7%9A%84%E6%89%8B%E6%AE%B5-%E4%BA%8C/" title="微服务治理的手段(二)">微服务治理的手段(二)</a><time datetime="2024-02-18T03:06:09.000Z" title="发表于 2024-02-18 11:06:09">2024-02-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Devops/"><span class="card-category-list-name">Devops</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Devops/CICD/"><span class="card-category-list-name">CICD</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Devops/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">20</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/JVM/"><span class="card-category-list-name">JVM</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/Java%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">Java基础</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/NIO/"><span class="card-category-list-name">NIO</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/NIO/%E5%8E%9F%E7%94%9FNIO/"><span class="card-category-list-name">原生NIO</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 1.44em; color: rgb(119, 122, 170)">分布式系统</a><a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.5em; color: rgb(81, 140, 135)">缓存</a><a href="/tags/HTTP%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5/" style="font-size: 1.1em; color: rgb(193, 77, 4)">HTTP优化策略</a><a href="/tags/SpringBoot/" style="font-size: 1.33em; color: rgb(191, 12, 71)">SpringBoot</a><a href="/tags/MockMvc/" style="font-size: 1.1em; color: rgb(131, 146, 1)">MockMvc</a><a href="/tags/%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/" style="font-size: 1.1em; color: rgb(124, 111, 191)">接口安全策略</a><a href="/tags/Spring/" style="font-size: 1.33em; color: rgb(107, 22, 167)">Spring</a><a href="/tags/Spring%E4%BA%8B%E5%8A%A1/" style="font-size: 1.1em; color: rgb(42, 117, 42)">Spring事务</a><a href="/tags/MySQL%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/" style="font-size: 1.1em; color: rgb(31, 110, 177)">MySQL分库分表</a><a href="/tags/MySQL%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" style="font-size: 1.1em; color: rgb(104, 56, 1)">MySQL读写分离</a><a href="/tags/Dubbo/" style="font-size: 1.1em; color: rgb(118, 31, 88)">Dubbo</a><a href="/tags/rpc%E6%A1%86%E6%9E%B6/" style="font-size: 1.1em; color: rgb(52, 142, 156)">rpc框架</a><a href="/tags/NoSQL/" style="font-size: 1.1em; color: rgb(124, 53, 102)">NoSQL</a><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%9F%BA%E7%A1%80/" style="font-size: 1.1em; color: rgb(48, 166, 120)">微服务基础</a><a href="/tags/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/" style="font-size: 1.16em; color: rgb(75, 184, 173)">服务治理</a><a href="/tags/%E7%9B%91%E6%8E%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8/" style="font-size: 1.1em; color: rgb(42, 25, 176)">监控微服务调用</a><a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" style="font-size: 1.21em; color: rgb(99, 8, 133)">消息队列</a><a href="/tags/Axios/" style="font-size: 1.1em; color: rgb(153, 70, 53)">Axios</a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.39em; color: rgb(193, 93, 172)">前端</a><a href="/tags/Promise/" style="font-size: 1.1em; color: rgb(108, 143, 43)">Promise</a><a href="/tags/Ajax/" style="font-size: 1.1em; color: rgb(11, 68, 75)">Ajax</a><a href="/tags/H5/" style="font-size: 1.1em; color: rgb(37, 127, 108)">H5</a><a href="/tags/Mock/" style="font-size: 1.1em; color: rgb(94, 29, 20)">Mock</a><a href="/tags/JavaScript/" style="font-size: 1.1em; color: rgb(2, 28, 91)">JavaScript</a><a href="/tags/jQuery/" style="font-size: 1.1em; color: rgb(133, 180, 160)">jQuery</a><a href="/tags/hexo/" style="font-size: 1.1em; color: rgb(114, 143, 125)">hexo</a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.1em; color: rgb(181, 32, 193)">博客</a><a href="/tags/%E6%9D%83%E9%99%90%E8%AE%A4%E8%AF%81/" style="font-size: 1.16em; color: rgb(56, 103, 151)">权限认证</a><a href="/tags/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/" style="font-size: 1.1em; color: rgb(58, 108, 94)">开源协议</a><a href="/tags/CICD/" style="font-size: 1.1em; color: rgb(109, 37, 174)">CICD</a><a href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E6%8C%81%E7%BB%AD%E9%83%A8%E7%BD%B2/" style="font-size: 1.1em; color: rgb(34, 142, 188)">持续集成持续部署</a><a href="/tags/Linux/" style="font-size: 1.1em; color: rgb(126, 103, 10)">Linux</a><a href="/tags/JVM/" style="font-size: 1.33em; color: rgb(21, 0, 31)">JVM</a><a href="/tags/JVM%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/" style="font-size: 1.1em; color: rgb(157, 190, 185)">JVM执行引擎</a><a href="/tags/JVM%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" style="font-size: 1.1em; color: rgb(71, 48, 186)">JVM内存模型</a><a href="/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" style="font-size: 1.1em; color: rgb(139, 164, 10)">文件操作</a><a href="/tags/NIO/" style="font-size: 1.27em; color: rgb(187, 170, 84)">NIO</a><a href="/tags/Netty/" style="font-size: 1.16em; color: rgb(62, 43, 159)">Netty</a><a href="/tags/java/" style="font-size: 1.16em; color: rgb(132, 142, 149)">java</a><a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 1.16em; color: rgb(160, 87, 104)">后端</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">12</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">232</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-02-09T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-06T04:37:34.064Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://blogpic-1305209282.cos.ap-chengdu.myqcloud.com/img/wall5.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2024 By goMars</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi,  welcome  to  my  <a  href="https://iooooot.github.io/">blog</a>!&emsp;I hope you would like it！<br/><a>蜀ICP备2024057194号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>(() => {
  function loadValine () {
    function initValine () {
      let initData = {
        el: '#vcomment',
        appId: 'KBFy1paWlEx87r2Jl3UoS67U-gzGzoHsz',
        appKey: '8K8QgLxNaqgswNen2iUidj8W',
      }
      
      const valine = new Valine(initData)
    }

    if (typeof Valine === 'function') initValine() 
    else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
  }

  window.pjax ? loadValine() : window.addEventListener('load', loadValine)
})()</script><script>function subtitleType () {
  if (true) { 
    var typed = new Typed("#subtitle", {
      strings: "忘掉今天的人将被明天忘掉".split(","),
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '忘'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>